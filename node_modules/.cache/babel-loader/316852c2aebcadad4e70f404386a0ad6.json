{"ast":null,"code":"import _slicedToArray from\"/Users/alba/Documents/GitHub/pricemap/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Typography from\"@material-ui/core/Typography\";import Slider from\"@material-ui/core/Slider\";import{customMarker}from\"./constants\";import{RedMarker}from\"./RedMarker\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var WEEKS=[1,2,3,4,5,6,7,8,9];export default function Filters(_ref){var data=_ref.data,PriceData=_ref.PriceData,setMarkers=_ref.setMarkers;var _useState=useState(\"All\"),_useState2=_slicedToArray(_useState,2),bedrooms=_useState2[0],setBedrooms=_useState2[1];var _useState3=useState(\"All\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState([0,600000]),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),mls=_useState8[0],setMls=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),weeks=_useState10[0],setWeeks=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),checked=_useState12[0],setChecked=_useState12[1];var rangeSelector=function rangeSelector(e,newValue){setPrice(newValue);// console.log(`Value 1: ${newValue[0]} ---  Value 2: ${newValue[1]}`)\n};// Object keys\n//  let propertyDataKeys = (Object.keys(data[0]).map(el => {\n//     console.log(el)\n//   }));\ndata=data.filter(function(item){return item.Price>=price[0]&&item.Price<=price[1];});if(mls!==\"\"){data=data.filter(function(el){return el.MlsNumber==mls;});}if(weeks!==\"Over\"){data=data.filter(function(item){return item.weeks_on_market>=weeks;});}if(bedrooms!==\"All\"){data=data.filter(function(item){return item.Bedrooms==bedrooms;});}if(status!==\"All\"){data=data.filter(function(item){return item.status===status;});}if(checked){data=data.filter(function(el){return el.weeks_on_market==0;});}var dataClean=[];data.forEach(function(element){if(element.status===\"Available\"){dataClean.push({position:{lng:element.Longitude,lat:element.Latitude},text:PriceData(element),style:customMarker});}else if(element.status===\"Removed\"){dataClean.push({position:{lng:element.Longitude,lat:element.Latitude},text:PriceData(element),style:RedMarker});}});// Submit Function\nvar handleSubmit=function handleSubmit(event){event.preventDefault();setMarkers(dataClean);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"greenForm mx-4 my-3 row gx-3 gy-2 align-items-center\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Filters\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"\",htmlFor:\"bedrooms\",children:[\"Bedrooms\",/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"bedrooms\",value:bedrooms,onChange:function onChange(event){return setBedrooms(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"\",htmlFor:\"status\",children:[\"Status\",/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"status\",value:status,onChange:function onChange(event){return setStatus(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Available\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Removed\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"\",htmlFor:\"mls\",children:[\" \",\"Search by MLS\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",id:\"mls\",value:mls,placeholder:\"MLS\",onChange:function onChange(e){return setMls(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"\",htmlFor:\"weeks\",children:[\"Weeks\",/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"weeks\",value:weeks,onChange:function onChange(e){return setWeeks(e.target.value);},onBlur:function onBlur(e){return setWeeks(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Over\"}),WEEKS.map(function(weeks){return/*#__PURE__*/_jsx(\"option\",{value:weeks,children:weeks},weeks);})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"btn btn-outline-secondary\",children:[\"New:\",/*#__PURE__*/_jsx(\"input\",{className:\"btn-check big-cx\",id:\"btn-check-outlined\",type:\"checkbox\",value:\"{checked}\",onChange:function onChange(){return setChecked(function(checked){return!checked;});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",id:\"sliderBox\",children:[/*#__PURE__*/_jsx(Typography,{id:\"range-slider\",gutterBottom:true,children:\"Select Price Range:\"}),/*#__PURE__*/_jsx(Slider,{value:price,min:0,step:25000,max:600000,onChange:rangeSelector,valueLabelDisplay:\"auto\"}),\"Price is between \",price[0],\" and \",price[1]]}),/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-light col-auto\",type:\"submit\",value:\"Submit\"})]})});}","map":{"version":3,"sources":["/Users/alba/Documents/GitHub/pricemap/src/Filters.js"],"names":["React","useState","Typography","Slider","customMarker","RedMarker","WEEKS","Filters","data","PriceData","setMarkers","bedrooms","setBedrooms","status","setStatus","price","setPrice","mls","setMls","weeks","setWeeks","checked","setChecked","rangeSelector","e","newValue","filter","item","Price","el","MlsNumber","weeks_on_market","Bedrooms","dataClean","forEach","element","push","position","lng","Longitude","lat","Latitude","text","style","handleSubmit","event","preventDefault","target","value","map"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Slider from \"@material-ui/core/Slider\";\n\nimport { customMarker } from \"./constants\";\nimport { RedMarker } from \"./RedMarker\";\n\nconst WEEKS = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n\nexport default function Filters({ data, PriceData, setMarkers }) {\n  const [bedrooms, setBedrooms] = useState(\"All\");\n  const [status, setStatus] = useState(\"All\");\n  const [price, setPrice] = useState([0, 600000]);\n  const [mls, setMls] = useState(\"\");\n  const [weeks, setWeeks] = useState(\"\");\n  const [checked, setChecked] = useState(false);\n\n  const rangeSelector = (e, newValue) => {\n    setPrice(newValue);\n    // console.log(`Value 1: ${newValue[0]} ---  Value 2: ${newValue[1]}`)\n  };\n\n  // Object keys\n\n  //  let propertyDataKeys = (Object.keys(data[0]).map(el => {\n  //     console.log(el)\n  //   }));\n\n  data = data.filter(\n    (item) => item.Price >= price[0] && item.Price <= price[1]\n  );\n\n  if (mls !== \"\") {\n    data = data.filter((el) => el.MlsNumber == mls);\n  }\n\n  if (weeks !== \"Over\") {\n    data = data.filter((item) => item.weeks_on_market >= weeks);\n  }\n\n  if (bedrooms !== \"All\") {\n    data = data.filter((item) => item.Bedrooms == bedrooms);\n  }\n\n  if (status !== \"All\") {\n    data = data.filter((item) => item.status === status);\n  }\n\n  if (checked) {\n    data = data.filter((el) => el.weeks_on_market == 0);\n  }\n\n  let dataClean = [];\n\n  data.forEach((element) => {\n    if (element.status === \"Available\") {\n      dataClean.push({\n        position: { lng: element.Longitude, lat: element.Latitude },\n        text: PriceData(element),\n        style: customMarker,\n      });\n    } else if (element.status === \"Removed\") {\n      dataClean.push({\n        position: { lng: element.Longitude, lat: element.Latitude },\n        text: PriceData(element),\n        style: RedMarker,\n      });\n    }\n  });\n\n  // Submit Function\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    setMarkers(dataClean);\n  };\n\n  return (\n    <>\n      <form\n        className=\"greenForm mx-4 my-3 row gx-3 gy-2 align-items-center\"\n        onSubmit={handleSubmit}\n      >\n        <h2>Filters</h2>\n        <label className=\"\" htmlFor=\"bedrooms\">\n          Bedrooms\n          <select\n            className=\"form-control\"\n            id=\"bedrooms\"\n            value={bedrooms}\n            onChange={(event) => setBedrooms(event.target.value)}\n          >\n            <option>All</option>\n            <option>1</option>\n            <option>2</option>\n            <option>3</option>\n            <option>4</option>\n          </select>\n        </label>\n\n        <label className=\"\" htmlFor=\"status\">\n          Status\n          <select\n            className=\"form-control\"\n            id=\"status\"\n            value={status}\n            onChange={(event) => setStatus(event.target.value)}\n          >\n            <option>All</option>\n            <option>Available</option>\n            <option>Removed</option>\n          </select>\n        </label>\n\n        <label className=\"\" htmlFor=\"mls\">\n          {\" \"}\n          Search by MLS\n          <input\n            className=\"form-control\"\n            id=\"mls\"\n            value={mls}\n            placeholder=\"MLS\"\n            onChange={(e) => setMls(e.target.value)}\n          />\n        </label>\n\n        <label className=\"\" htmlFor=\"weeks\">\n          Weeks\n          <select\n            className=\"form-control\"\n            id=\"weeks\"\n            value={weeks}\n            onChange={(e) => setWeeks(e.target.value)}\n            onBlur={(e) => setWeeks(e.target.value)}\n          >\n            <option>Over</option>\n            {WEEKS.map((weeks) => (\n              <option key={weeks} value={weeks}>\n                {weeks}\n              </option>\n            ))}\n          </select>\n        </label>\n\n        <label className=\"btn btn-outline-secondary\">\n          New:\n          <input\n            className=\"btn-check big-cx\"\n            id=\"btn-check-outlined\"\n            type=\"checkbox\"\n            value=\"{checked}\"\n            onChange={() => setChecked((checked) => !checked)}\n          />\n        </label>\n\n        <div className=\"\" id=\"sliderBox\">\n          <Typography id=\"range-slider\" gutterBottom>\n            Select Price Range:\n          </Typography>\n          <Slider\n            value={price}\n            min={0}\n            step={25000}\n            max={600000}\n            onChange={rangeSelector}\n            valueLabelDisplay=\"auto\"\n          />\n          Price is between {price[0]} and {price[1]}\n        </div>\n        <input\n          className=\"btn btn-light col-auto\"\n          type=\"submit\"\n          value=\"Submit\"\n        />\n      </form>\n    </>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}
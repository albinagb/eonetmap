{"ast":null,"code":"import{useEffect}from\"react\";import PropTypes from\"prop-types\";import L from\"leaflet\";import\"leaflet.markercluster/dist/leaflet.markercluster\";import\"leaflet.markercluster/dist/MarkerCluster.css\";import\"leaflet.markercluster/dist/MarkerCluster.Default.css\";import{useLeaflet}from\"react-leaflet\";import{customMarker}from\"./constants\";var mcg=L.markerClusterGroup();var MarkerCluster=function MarkerCluster(_ref){var markers=_ref.markers;var _useLeaflet=useLeaflet(),map=_useLeaflet.map;useEffect(function(){mcg.clearLayers();markers.forEach(function(_ref2){var position=_ref2.position,text=_ref2.text;return L.marker(new L.LatLng(position.lat,position.lng),{icon:customMarker}).addTo(mcg).bindPopup(text);});// optionally center the map around the markers\n// map.fitBounds(mcg.getBounds());\n// // add the marker cluster group to the map\nmap.addLayer(mcg);},[markers,map]);return null;};MarkerCluster.propTypes={markers:PropTypes.arrayOf(PropTypes.shape({position:PropTypes.objectOf(PropTypes.number).isRequired,text:PropTypes.string.isRequired}).isRequired).isRequired};export default MarkerCluster;","map":{"version":3,"sources":["/Users/alba/Documents/GitHub/pricemap/src/MarkerCluster.js"],"names":["useEffect","PropTypes","L","useLeaflet","customMarker","mcg","markerClusterGroup","MarkerCluster","markers","map","clearLayers","forEach","position","text","marker","LatLng","lat","lng","icon","addTo","bindPopup","addLayer","propTypes","arrayOf","shape","objectOf","number","isRequired","string"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA,MAAOC,CAAAA,CAAP,KAAc,SAAd,CACA,MAAO,kDAAP,CACA,MAAO,8CAAP,CACA,MAAO,sDAAP,CACA,OAASC,UAAT,KAA2B,eAA3B,CACA,OAASC,YAAT,KAA6B,aAA7B,CAEA,GAAMC,CAAAA,GAAG,CAAGH,CAAC,CAACI,kBAAF,EAAZ,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,iBACrBL,UAAU,EADW,CAC7BM,GAD6B,aAC7BA,GAD6B,CAGrCT,SAAS,CAAC,UAAM,CACdK,GAAG,CAACK,WAAJ,GACAF,OAAO,CAACG,OAAR,CAAgB,mBAAGC,CAAAA,QAAH,OAAGA,QAAH,CAAaC,IAAb,OAAaA,IAAb,OACdX,CAAAA,CAAC,CAACY,MAAF,CAAS,GAAIZ,CAAAA,CAAC,CAACa,MAAN,CAAaH,QAAQ,CAACI,GAAtB,CAA2BJ,QAAQ,CAACK,GAApC,CAAT,CAAmD,CACjDC,IAAI,CAAEd,YAD2C,CAAnD,EAGGe,KAHH,CAGSd,GAHT,EAIGe,SAJH,CAIaP,IAJb,CADc,EAAhB,EAQA;AACA;AACA;AACAJ,GAAG,CAACY,QAAJ,CAAahB,GAAb,EACD,CAdQ,CAcN,CAACG,OAAD,CAAUC,GAAV,CAdM,CAAT,CAgBA,MAAO,KAAP,CACD,CApBD,CAsBAF,aAAa,CAACe,SAAd,CAA0B,CACxBd,OAAO,CAAEP,SAAS,CAACsB,OAAV,CACPtB,SAAS,CAACuB,KAAV,CAAgB,CACdZ,QAAQ,CAAEX,SAAS,CAACwB,QAAV,CAAmBxB,SAAS,CAACyB,MAA7B,EAAqCC,UADjC,CAEdd,IAAI,CAAEZ,SAAS,CAAC2B,MAAV,CAAiBD,UAFT,CAAhB,EAGGA,UAJI,EAKPA,UANsB,CAA1B,CASA,cAAepB,CAAAA,aAAf","sourcesContent":["import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport L from \"leaflet\";\nimport \"leaflet.markercluster/dist/leaflet.markercluster\";\nimport \"leaflet.markercluster/dist/MarkerCluster.css\";\nimport \"leaflet.markercluster/dist/MarkerCluster.Default.css\";\nimport { useLeaflet } from \"react-leaflet\";\nimport { customMarker } from \"./constants\";\n\nconst mcg = L.markerClusterGroup();\n\nconst MarkerCluster = ({ markers }) => {\n  const { map } = useLeaflet();\n\n  useEffect(() => {\n    mcg.clearLayers();\n    markers.forEach(({ position, text }) =>\n      L.marker(new L.LatLng(position.lat, position.lng), {\n        icon: customMarker,\n      })\n        .addTo(mcg)\n        .bindPopup(text)\n    );\n\n    // optionally center the map around the markers\n    // map.fitBounds(mcg.getBounds());\n    // // add the marker cluster group to the map\n    map.addLayer(mcg);\n  }, [markers, map]);\n\n  return null;\n};\n\nMarkerCluster.propTypes = {\n  markers: PropTypes.arrayOf(\n    PropTypes.shape({\n      position: PropTypes.objectOf(PropTypes.number).isRequired,\n      text: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n};\n\nexport default MarkerCluster;\n"]},"metadata":{},"sourceType":"module"}